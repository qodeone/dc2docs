<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Product Attributes and Values &#8212; Drupal Commerce 0.0.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Products and types" href="products.html" />
    <link rel="prev" title="Product Variations and types" href="variations.html" />
  
   

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="products.html" title="Products and types"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="variations.html" title="Product Variations and types"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Drupal Commerce 0.0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Commerce 2.x</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Code Recipes</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
        <a href="
    ../../index.html" class="text-logo">Drupal Commerce 2.x Documentation</a>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../v1/README.html">Commerce 1.x Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Commerce 2.x</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../README.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#libraries-and-dependencies">Libraries and dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#setting-up-stores">Setting up stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#managing-products">Managing products</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#catalog-and-product-pages">Catalog and product pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#product-merchandising">Product merchandising</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#working-with-orders">Working with orders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#configuring-checkout">Configuring Checkout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#payments">Payments</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#code-recipes">Code Recipes</a></li>
</ul>
</li>
</ul>

    
  </div>
</div>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../../index.html">Docs</a></li>
              
                <li><a href="../index.html">Commerce 2.x</a></li>
              
                <li><a href="index.html">Code Recipes</a></li>
              
              <li>Product Attributes and Values</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="product-attributes-and-values">
<h1>Product Attributes and Values<a class="headerlink" href="#product-attributes-and-values" title="Permalink to this headline">¶</a></h1>
<p>Product variation types can have certain attributes (ex. color) and
those attributes have values (ex red, blue). In this example, we will
create two attributes (color and size) and add them to the variation
type we made previously.</p>
<div class="section" id="creating-attributes">
<h2>Creating attributes<a class="headerlink" href="#creating-attributes" title="Permalink to this headline">¶</a></h2>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">/**</span>
<span class="x"> * id [String]</span>
<span class="x"> *   The primary key for this attribute.</span>
<span class="x"> *</span>
<span class="x"> * label [String]</span>
<span class="x"> *   The label for this attribute.</span>
<span class="x"> */</span>
<span class="x">$color_attribute = \Drupal\commerce_product\Entity\ProductAttribute::create([</span>
<span class="x">  &#39;id&#39; =&gt; &#39;color&#39;,</span>
<span class="x">  &#39;label&#39; =&gt; &#39;Color&#39;,</span>
<span class="x">]);</span>
<span class="x">$color_attribute-&gt;save();</span>

<span class="x">$size_attribute = \Drupal\commerce_product\Entity\ProductAttribute::create([</span>
<span class="x">  &#39;id&#39; =&gt; &#39;size&#39;,</span>
<span class="x">  &#39;label&#39; =&gt; &#39;Size&#39;,</span>
<span class="x">]);</span>
<span class="x">$size_attribute-&gt;save();</span>

<span class="x">// We load a service that adds the attributes to the variation type we made previously.</span>
<span class="x">$attribute_field_manager = \Drupal::service(&#39;commerce_product.attribute_field_manager&#39;);</span>

<span class="x">$attribute_field_manager-&gt;createField($color_attribute, &#39;my_custom_variation_type&#39;);</span>
<span class="x">$attribute_field_manager-&gt;createField($size_attribute, &#39;my_custom_variation_type&#39;);</span>
</pre></div>
</div>
</div>
<div class="section" id="loading-an-attribute">
<h2>Loading an attribute<a class="headerlink" href="#loading-an-attribute" title="Permalink to this headline">¶</a></h2>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// Loading is based off of the primary key [String] that was defined when creating it.</span>
<span class="x">$size_attribute = \Drupal\commerce_product\Entity\ProductAttribute::load(&#39;size&#39;);</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-values-for-an-attribute">
<h2>Creating values for an attribute<a class="headerlink" href="#creating-values-for-an-attribute" title="Permalink to this headline">¶</a></h2>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">/**</span>
<span class="x"> * attribute [String]</span>
<span class="x"> *   Foreign key of the attribute we want.</span>
<span class="x"> *</span>
<span class="x"> * name [String]</span>
<span class="x"> *   The name of this value.</span>
<span class="x"> */</span>
<span class="x">$red = \Drupal\commerce_product\Entity\ProductAttributeValue::create([</span>
<span class="x">  &#39;attribute&#39; =&gt; &#39;color&#39;,</span>
<span class="x">  &#39;name&#39; =&gt; &#39;Red&#39;,</span>
<span class="x">]);</span>
<span class="x">$red-&gt;save();</span>

<span class="x">$blue = \Drupal\commerce_product\Entity\ProductAttributeValue::create([</span>
<span class="x">  &#39;attribute&#39; =&gt; &#39;color&#39;,</span>
<span class="x">  &#39;name&#39; =&gt; &#39;Blue&#39;,</span>
<span class="x">]);</span>
<span class="x">$blue-&gt;save();</span>

<span class="x">$medium = \Drupal\commerce_product\Entity\ProductAttributeValue::create([</span>
<span class="x">  &#39;attribute&#39; =&gt; &#39;size&#39;,</span>
<span class="x">  &#39;name&#39; =&gt; &#39;Medium&#39;,</span>
<span class="x">]);</span>
<span class="x">$medium-&gt;save();</span>

<span class="x">$large = \Drupal\commerce_product\Entity\ProductAttributeValue::create([</span>
<span class="x">  &#39;attribute&#39; =&gt; &#39;size&#39;,</span>
<span class="x">  &#39;name&#39; =&gt; &#39;Large&#39;,</span>
<span class="x">]);</span>
<span class="x">$large-&gt;save();</span>
</pre></div>
</div>
</div>
<div class="section" id="loading-an-attribute-value">
<h2>Loading an attribute value<a class="headerlink" href="#loading-an-attribute-value" title="Permalink to this headline">¶</a></h2>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// Loading is based off of the primary key [Integer]</span>
<span class="x">//   1 would be the first one saved, 2 the next, etc.</span>
<span class="x">$red = \Drupal\commerce_product\Entity\ProductAttributeValue::load(1);</span>
</pre></div>
</div>
</div>
<div class="section" id="assigning-attributes-to-a-variation">
<h2>Assigning attributes to a variation<a class="headerlink" href="#assigning-attributes-to-a-variation" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s say we want our hypothetical product to have two variations. One
will be the color red and size medium, and the other will be the color
blue and size large. // [IMPORTANT] - If a Product Variation Type has
fields for attributes (as we added above), then variations of that type
MUST have those attributes.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">/**</span>
<span class="x"> * attribute_&lt;ATTRIBUTE_ID&gt; [\Drupal\commerce_product\Entity\ProductAttributeValueInterface]</span>
<span class="x"> *   The attribute value entity to use for the attribute type.</span>
<span class="x"> */</span>
<span class="x">$variation_red_medium = \Drupal\commerce_product\Entity\ProductVariation::create([</span>
<span class="x">  &#39;type&#39; =&gt; &#39;my_custom_variation_type&#39;,</span>
<span class="x">  &#39;sku&#39; =&gt; &#39;product-red-medium&#39;,</span>
<span class="x">  &#39;price&#39; =&gt; new \Drupal\commerce_price\Price(&#39;10.00&#39;, &#39;USD&#39;),</span>
<span class="x">  &#39;attribute_color&#39; =&gt; $red,</span>
<span class="x">  &#39;attribute_size&#39; =&gt; $medium,</span>
<span class="x">]);</span>
<span class="x">$variation_red_medium-&gt;save();</span>

<span class="x">$variation_blue_large = \Drupal\commerce_product\Entity\ProductVariation::create([</span>
<span class="x">  &#39;type&#39; =&gt; &#39;my_custom_variation_type&#39;,</span>
<span class="x">  &#39;sku&#39; =&gt; &#39;product-blue-large&#39;,</span>
<span class="x">  &#39;price&#39; =&gt; new \Drupal\commerce_price\Price(&#39;10.00&#39;, &#39;USD&#39;),</span>
<span class="x">  &#39;attribute_color&#39; =&gt; $blue,</span>
<span class="x">  &#39;attribute_size&#39; =&gt; $large,</span>
<span class="x">]);</span>
<span class="x">$variation_blue_large-&gt;save();</span>
</pre></div>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="variations.html" title="previous chapter (use the left arrow)">Product Variations and types</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="products.html" title="next chapter (use the right arrow)">Products and types</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="products.html" title="Products and types"
             >next</a> |</li>
        <li class="right" >
          <a href="variations.html" title="Product Variations and types"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Drupal Commerce 0.0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Commerce 2.x</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Code Recipes</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2017, Commerce Guys. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>